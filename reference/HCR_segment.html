<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Segmented harvest control rules — HCR_segment • SAMtool</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Segmented harvest control rules — HCR_segment"><meta property="og:description" content="A linear segmented output control rule where the target F (used for the TAC recommendation) 
is a function of an operational control point (OCP) such as spawning depletion or spawning biomass. 
The segments of the HCR are specified by arguments OCP and relF. Beyond the range of OCP, the response will be flat.
HCR_ramp uses HCR_segment with two control points."><meta property="og:image" content="https://SAMtool.openMSE.com/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SAMtool</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Blue-Matter/SAMtool/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Segmented harvest control rules</h1>
    <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/SAMtool/blob/HEAD/R/HCRs.R" class="external-link"><code>R/HCRs.R</code></a></small>
    <div class="hidden name"><code>HCR_segment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A linear segmented output control rule where the target F (used for the TAC recommendation) 
is a function of an operational control point (OCP) such as spawning depletion or spawning biomass. 
The segments of the HCR are specified by arguments <code>OCP</code> and <code>relF</code>. Beyond the range of <code>OCP</code>, the response will be flat.
<a href="HCR_ramp.html">HCR_ramp</a> uses <code>HCR_segment</code> with two control points.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">HCR_segment</span><span class="op">(</span></span>
<span>  <span class="va">Assessment</span>,</span>
<span>  reps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  OCP_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SSB_SSB0"</span>, <span class="st">"SSB_SSBMSY"</span>, <span class="st">"SSB_dSSB0"</span>, <span class="st">"F_FMSY"</span>, <span class="st">"F_F01"</span>, <span class="st">"F_FSPR"</span><span class="op">)</span>,</span>
<span>  Ftarget_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FMSY"</span>, <span class="st">"F01"</span>, <span class="st">"Fmax"</span>, <span class="st">"FSPR"</span>, <span class="st">"abs"</span><span class="op">)</span>,</span>
<span>  OCP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  relF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">SPR_OCP</span>,</span>
<span>  <span class="va">SPR_targ</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>Assessment</dt>
<dd><p>An object of class <a href="Assessment-class.html">Assessment</a> with estimates of
FMSY or UMSY, vulnerable biomass, and spawning biomass depletion in terminal year.</p></dd>


<dt>reps</dt>
<dd><p>The number of stochastic samples of the TAC recommendation.</p></dd>


<dt>OCP_type</dt>
<dd><p>The type of operational control points (OCPs) for the harvest control rule used to determine the reduction in F.
See below.</p></dd>


<dt>Ftarget_type</dt>
<dd><p>The type of F used for the target fishing mortality rate. See below.</p></dd>


<dt>OCP</dt>
<dd><p>Numeric vector of operational control points for the HCR (in increasing order).</p></dd>


<dt>relF</dt>
<dd><p>Numeric vector of Ftarget corresponding to the values in <code>OCP</code>.</p></dd>


<dt>SPR_OCP</dt>
<dd><p>The value of spawning potential ratio for the OCP if <code>OCP_type = "F_FSPR"</code>. By default, 0.4 (F40%).</p></dd>


<dt>SPR_targ</dt>
<dd><p>The target value of spawning potential ratio if <code>Ftarget_type = "FSPR"</code>. By default, 0.4 (F40%).</p></dd>


<dt>...</dt>
<dd><p>Miscellaneous arguments.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class Rec with the TAC recommendation.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The catch advice is calculated using the catch equation of the corresponding
assessment. See <code>Assessment@forecast$catch_eq</code>, a function that returns the catch advice for a specified <code>Ftarget</code>.</p>
<p><em>Operational control points (OCP_type)</em></p>
<p>The following are the available options for harvest control rule inputs, and the source of those values
in the <a href="Assessment-class.html">Assessment</a> object:</p>
<ul><li><p><strong>Default</strong> <code>"SSB_SSB0"</code>: Spawning depletion. Uses the last value in  <code>Assessment@SSB_SSB0</code> vector.</p></li>
<li><p><code>"SSB_SSBMSY"</code>: Spawning biomass relative to MSY. Uses the last value in <code>Assessment@SSB_SSBMSY</code> vector.</p></li>
<li><p><code>"SSB_dSSB0"</code>: Dynamic depletion (SSB relative to the historical reconstructed biomass with F = 0). Uses the last value in
<code>Assessment@SSB/Assessment@TMB_report$dynamic_SSB0</code>.</p></li>
<li><p><code>"F_FMSY"</code>: Fishing mortality relative to MSY. Uses the last value in <code>Assessment@F_FMSY</code>.</p></li>
<li><p><code>"F_F01"</code>: Fishing mortality relative to F_0.1 (yield per recruit), calculated from the data frame in
<code>Asesssment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"F_FSPR"</code>: Fishing mortality relative to F_SPR<!-- % (the F that produces the spawning potential ratio specified in -->
<code>"SPR_OCP"</code>, calculated from the data frame in <code>Asesssment@forecast[["per_recruit"]]</code>.</p></li>
</ul><p><em>Fishing mortality target (Ftarget_type)</em></p>
<p>The type of F for which the corresponding catch is calculated in the HCR is specified here. The source of those values
in the <a href="Assessment-class.html">Assessment</a> object is specified:</p>
<ul><li><p><strong>Default</strong> <code>"FMSY"</code>: Fishing mortality relative to MSY. Uses the value in <code>Assessment@FMSY</code>.</p></li>
<li><p><code>"F01"</code>: Fishing mortality relative to F_0.1 (yield per recruit), calculated from the data frame in
<code>Asesssment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"Fmax"</code>: Fishing mortality relative to F_max (maximizing yield per recruit), calculated from the data frame in
<code>Asesssment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"FSPR"</code>: Fishing mortality relative to F_SPR<!-- % (the F that produces the spawning potential ratio specified in -->
<code>"SPR_targ"</code>, calculated from data frame in <code>Asesssment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"abs"</code>: Fishing mortality is independent of any model output and is explicitly specified in <code>relF</code>.</p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Q. Huynh</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># This is an MP with a 40-10 harvest control rule (using FMSY)</span></span></span>
<span class="r-in"><span><span class="va">DD_40_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_MP.html">make_MP</a></span><span class="op">(</span><span class="va">DD_TMB</span>, <span class="va">HCR_segment</span>, OCP_type <span class="op">=</span> <span class="st">"SSB_SSB0"</span>, OCP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span><span class="op">)</span>, relF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co">#' </span></span></span>
<span class="r-in"><span><span class="co"># This is an MP with a 40-10 harvest control rule with a maximum F of 0.1</span></span></span>
<span class="r-in"><span><span class="va">DD_40_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_MP.html">make_MP</a></span><span class="op">(</span><span class="va">DD_TMB</span>, <span class="va">HCR_segment</span>, OCP_type <span class="op">=</span> <span class="st">"SSB_SSB0"</span>, </span></span>
<span class="r-in"><span>                    Ftarget_type <span class="op">=</span> <span class="st">"abs"</span>, OCP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span><span class="op">)</span>, relF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span> </span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Quang Huynh, Tom Carruthers, Adrian Hordyk.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

