<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Segmented harvest control rules — HCR_segment • SAMtool</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Segmented harvest control rules — HCR_segment"><meta name="description" content="A linear segmented output control rule where the target F (used for the TAC recommendation)
is a function of an operational control point (OCP) such as spawning depletion or spawning biomass.
The segments of the HCR are specified by arguments OCP and relF. Beyond the range of OCP, the response will be flat.
HCR_ramp uses HCR_segment with two control points."><meta property="og:description" content="A linear segmented output control rule where the target F (used for the TAC recommendation)
is a function of an operational control point (OCP) such as spawning depletion or spawning biomass.
The segments of the HCR are specified by arguments OCP and relF. Beyond the range of OCP, the response will be flat.
HCR_ramp uses HCR_segment with two control points."><meta property="og:image" content="https://samtool.openmse.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SAMtool</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Blue-Matter/SAMtool/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Segmented harvest control rules</h1>
      <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/SAMtool/blob/master/R/HCRs.R" class="external-link"><code>R/HCRs.R</code></a></small>
      <div class="d-none name"><code>HCR_segment.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A linear segmented output control rule where the target F (used for the TAC recommendation)
is a function of an operational control point (OCP) such as spawning depletion or spawning biomass.
The segments of the HCR are specified by arguments <code>OCP</code> and <code>relF</code>. Beyond the range of <code>OCP</code>, the response will be flat.
<a href="HCR_ramp.html">HCR_ramp</a> uses <code>HCR_segment</code> with two control points.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">HCR_segment</span><span class="op">(</span></span>
<span>  <span class="va">Assessment</span>,</span>
<span>  reps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  OCP_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SSB_SSB0"</span>, <span class="st">"SSB_SSBMSY"</span>, <span class="st">"SSB_dSSB0"</span>, <span class="st">"F_FMSY"</span>, <span class="st">"F_F01"</span>, <span class="st">"F_FSPR"</span><span class="op">)</span>,</span>
<span>  Ftarget_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FMSY"</span>, <span class="st">"F01"</span>, <span class="st">"Fmax"</span>, <span class="st">"FSPR"</span>, <span class="st">"abs"</span><span class="op">)</span>,</span>
<span>  OCP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  relF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">SPR_OCP</span>,</span>
<span>  <span class="va">SPR_targ</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-assessment">Assessment<a class="anchor" aria-label="anchor" href="#arg-assessment"></a></dt>
<dd><p>An object of class <a href="Assessment-class.html">Assessment</a> with estimates of
FMSY or UMSY, vulnerable biomass, and spawning biomass depletion in terminal year.</p></dd>


<dt id="arg-reps">reps<a class="anchor" aria-label="anchor" href="#arg-reps"></a></dt>
<dd><p>The number of stochastic samples of the TAC recommendation.</p></dd>


<dt id="arg-ocp-type">OCP_type<a class="anchor" aria-label="anchor" href="#arg-ocp-type"></a></dt>
<dd><p>The type of operational control points (OCPs) for the harvest control rule used to determine the reduction in F.
See below.</p></dd>


<dt id="arg-ftarget-type">Ftarget_type<a class="anchor" aria-label="anchor" href="#arg-ftarget-type"></a></dt>
<dd><p>The type of F used for the target fishing mortality rate. See below.</p></dd>


<dt id="arg-ocp">OCP<a class="anchor" aria-label="anchor" href="#arg-ocp"></a></dt>
<dd><p>Numeric vector of operational control points for the HCR (in increasing order).</p></dd>


<dt id="arg-relf">relF<a class="anchor" aria-label="anchor" href="#arg-relf"></a></dt>
<dd><p>Numeric vector of Ftarget corresponding to the values in <code>OCP</code>.</p></dd>


<dt id="arg-spr-ocp">SPR_OCP<a class="anchor" aria-label="anchor" href="#arg-spr-ocp"></a></dt>
<dd><p>The value of spawning potential ratio for the OCP if <code>OCP_type = "F_FSPR"</code>. By default, 0.4 (F40%).</p></dd>


<dt id="arg-spr-targ">SPR_targ<a class="anchor" aria-label="anchor" href="#arg-spr-targ"></a></dt>
<dd><p>The target value of spawning potential ratio if <code>Ftarget_type = "FSPR"</code>. By default, 0.4 (F40%).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Miscellaneous arguments.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <a href="https://msetool.openmse.com/reference/Rec-class.html" class="external-link">MSEtool::Rec</a> with the TAC recommendation.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The catch advice is calculated using the catch equation of the corresponding
assessment. See <code>Assessment@forecast$catch_eq</code>, a function that returns the catch advice for a specified <code>Ftarget</code>.</p>
<p><em>Operational control points (OCP_type)</em></p>
<p>The following are the available options for harvest control rule inputs, and the source of those values
in the <a href="Assessment-class.html">Assessment</a> object:</p>
<ul><li><p><strong>Default</strong> <code>"SSB_SSB0"</code>: Spawning depletion. Uses the last value in  <code>Assessment@SSB_SSB0</code> vector.</p></li>
<li><p><code>"SSB_SSBMSY"</code>: Spawning biomass relative to MSY. Uses the last value in <code>Assessment@SSB_SSBMSY</code> vector.</p></li>
<li><p><code>"SSB_dSSB0"</code>: Dynamic depletion (SSB relative to the historical reconstructed biomass with F = 0). Uses the last value in
<code>Assessment@SSB/Assessment@TMB_report$dynamic_SSB0</code>.</p></li>
<li><p><code>"F_FMSY"</code>: Fishing mortality relative to MSY. Uses the last value in <code>Assessment@F_FMSY</code>.</p></li>
<li><p><code>"F_F01"</code>: Fishing mortality relative to F_0.1 (yield per recruit), calculated from the data frame in
<code>Assessment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"F_FSPR"</code>: Fishing mortality relative to F_SPR% (the F that produces the spawning potential ratio specified in
<code>"SPR_OCP"</code>, calculated from the data frame in <code>Assessment@forecast[["per_recruit"]]</code>.</p></li>
</ul><p><em>Fishing mortality target (Ftarget_type)</em></p>
<p>The type of F for which the corresponding catch is calculated in the HCR is specified here. The source of those values
in the <a href="Assessment-class.html">Assessment</a> object is specified:</p>
<ul><li><p><strong>Default</strong> <code>"FMSY"</code>: Fishing mortality relative to MSY. Uses the value in <code>Assessment@FMSY</code>.</p></li>
<li><p><code>"F01"</code>: Fishing mortality relative to F_0.1 (yield per recruit), calculated from the data frame in
<code>Assessment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"Fmax"</code>: Fishing mortality relative to F_max (maximizing yield per recruit), calculated from the data frame in
<code>Assessment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"FSPR"</code>: Fishing mortality relative to F_SPR% (the F that produces the spawning potential ratio specified in
<code>"SPR_targ"</code>, calculated from data frame in <code>Assessment@forecast[["per_recruit"]]</code>.</p></li>
<li><p><code>"abs"</code>: Fishing mortality is independent of any model output and is explicitly specified in <code>relF</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Q. Huynh</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># This is an MP with a 40-10 harvest control rule (using FMSY)</span></span></span>
<span class="r-in"><span><span class="va">DD_40_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_MP.html">make_MP</a></span><span class="op">(</span><span class="va">DD_TMB</span>, <span class="va">HCR_segment</span>, OCP_type <span class="op">=</span> <span class="st">"SSB_SSB0"</span>, OCP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span><span class="op">)</span>, relF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co">#' </span></span></span>
<span class="r-in"><span><span class="co"># This is an MP with a 40-10 harvest control rule with a maximum F of 0.1</span></span></span>
<span class="r-in"><span><span class="va">DD_40_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_MP.html">make_MP</a></span><span class="op">(</span><span class="va">DD_TMB</span>, <span class="va">HCR_segment</span>, OCP_type <span class="op">=</span> <span class="st">"SSB_SSB0"</span>, </span></span>
<span class="r-in"><span>                    Ftarget_type <span class="op">=</span> <span class="st">"abs"</span>, OCP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span><span class="op">)</span>, relF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span> </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Quang Huynh, Tom Carruthers, Adrian Hordyk.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

